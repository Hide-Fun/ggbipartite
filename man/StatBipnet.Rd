% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/stat-bipnet.R
\docType{data}
\name{StatBipnet}
\alias{StatBipnet}
\title{Stat for bipartite “box–interaction” layout}
\format{
An object of class \code{StatBipnet} (inherits from \code{Stat}, \code{ggproto}, \code{gg}) of length 4.
}
\usage{
StatBipnet
}
\value{
A data frame of coordinates appropriate for the selected `type`.
}
\description{
`StatBipnet` computes the coordinates required to draw two sets of
rectangles (one for rows, one for columns) and the interaction polygons
that connect them. It expects long-format input carrying `row`, `column`,
and `count`, internally pivots to a matrix, and then delegates the geometry
calculation to `construct_bn_coordination()`.
}
\details{
If `gap` is not provided, a robust default is chosen as
`sum(count, na.rm = TRUE) / 10`, falling back to `1` when the sum is not
finite or non-positive. When `adjust_box_height = TRUE`, the vertical
extents of boxes are adjusted to reflect totals within each partition.

The function `construct_bn_coordination()` must be available in scope and is
expected to return a list with elements `box1`, `box2`, and
`interaction_coords` containing the columns described above.
}
\section{Required aesthetics}{

\describe{
  \item{row}{Row key (character or factor).}
  \item{column}{Column key (character or factor).}
  \item{count}{Non-negative numeric weight for the row–column interaction.}
}
}

\section{Output by `type`}{

\describe{
  \item{`"box1"`}{Rectangles for the row set with columns
    `xmin`, `xmax`, `ymin`, `ymax`, plus `row`.}
  \item{`"box2"`}{Rectangles for the column set with columns
    `xmin`, `xmax`, `ymin`, `ymax`, plus `column`.}
  \item{`"interaction"`}{Polygons spanning the two boxes with columns
    `x`, `y`, `row`, `column`, and a `group` id per interaction.}
}
}

\section{Parameters handled}{

`StatBipnet` honours the arguments accepted by [stat_bipnet()], including
`type`, `metadata_row`, `metadata_column`, `gap`, `box_ratio`, `ratio`,
`adjust_box_height`, and `na.rm`. These are validated in
`StatBipnet$setup_params()` before being forwarded to
`construct_bn_coordination()`.
}

\keyword{internal}
